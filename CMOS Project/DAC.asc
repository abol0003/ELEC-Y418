Version 4
SHEET 1 7924 3336
WIRE 880 144 816 144
WIRE 976 144 880 144
WIRE 2032 144 2016 144
WIRE 768 224 736 224
WIRE 736 256 736 224
WIRE 784 256 736 256
WIRE 880 256 880 144
WIRE 880 256 784 256
WIRE 1232 256 1232 144
WIRE 1232 256 944 256
WIRE 1504 256 1504 144
WIRE 1504 256 1232 256
WIRE 1792 256 1792 144
WIRE 1792 256 1504 256
WIRE 2016 256 2016 144
WIRE 2016 256 1792 256
WIRE 784 272 784 256
WIRE 944 272 944 256
WIRE 944 272 784 272
WIRE 1024 272 1024 224
WIRE 1280 272 1280 224
WIRE 1552 272 1552 224
WIRE 1840 272 1840 224
WIRE 2080 272 2080 224
WIRE 976 288 928 288
WIRE 1232 288 1184 288
WIRE 1504 288 1456 288
WIRE 1792 288 1744 288
WIRE 2032 288 1984 288
WIRE 2464 288 2416 288
WIRE 2720 288 2672 288
WIRE 688 304 432 304
WIRE 928 416 928 288
WIRE 928 416 848 416
WIRE 1024 416 1024 368
WIRE 1184 416 1184 288
WIRE 1184 416 1024 416
WIRE 1280 416 1280 368
WIRE 1456 416 1456 288
WIRE 1456 416 1280 416
WIRE 1552 416 1552 368
WIRE 1744 416 1744 288
WIRE 1744 416 1552 416
WIRE 1840 416 1840 368
WIRE 1984 416 1984 288
WIRE 1984 416 1840 416
WIRE 2080 416 2080 368
WIRE 2224 416 2080 416
WIRE 2416 416 2416 288
WIRE 2416 416 2224 416
WIRE 2512 416 2512 368
WIRE 2672 416 2672 288
WIRE 2672 416 2512 416
WIRE 2768 416 2768 368
WIRE 2832 416 2768 416
WIRE 1024 464 1024 416
WIRE 1280 464 1280 416
WIRE 1552 464 1552 416
WIRE 1840 464 1840 416
WIRE 2080 464 2080 416
WIRE 2512 464 2512 416
WIRE 2768 464 2768 416
WIRE 848 528 848 416
WIRE 848 528 640 528
WIRE 928 544 928 416
WIRE 976 544 928 544
WIRE 1184 544 1184 416
WIRE 1232 544 1184 544
WIRE 1456 544 1456 416
WIRE 1504 544 1456 544
WIRE 1744 544 1744 416
WIRE 1792 544 1744 544
WIRE 1984 544 1984 416
WIRE 2032 544 1984 544
WIRE 2416 544 2416 416
WIRE 2464 544 2416 544
WIRE 2672 544 2672 416
WIRE 2720 544 2672 544
WIRE 784 608 784 272
WIRE 1024 608 1024 560
WIRE 1280 608 1280 560
WIRE 1552 608 1552 560
WIRE 1840 608 1840 560
WIRE 2080 608 2080 560
WIRE 688 688 688 304
WIRE 736 688 688 688
WIRE 688 752 688 688
WIRE 976 752 976 688
WIRE 976 752 688 752
WIRE 1232 752 1232 688
WIRE 1232 752 976 752
WIRE 1504 752 1504 688
WIRE 1504 752 1232 752
WIRE 1792 752 1792 688
WIRE 1792 752 1504 752
WIRE 2032 752 2032 688
WIRE 2032 752 1792 752
WIRE 640 832 640 528
WIRE 2224 832 2224 416
WIRE 2224 832 640 832
WIRE 80 2176 80 2064
WIRE 256 2176 256 2064
WIRE 448 2176 448 2064
WIRE 624 2176 624 2064
WIRE 816 2176 816 2080
WIRE 1152 2304 1088 2304
WIRE 1248 2304 1152 2304
WIRE 160 2384 160 2224
WIRE 336 2384 336 2224
WIRE 336 2384 160 2384
WIRE 528 2384 528 2224
WIRE 528 2384 336 2384
WIRE 704 2384 704 2224
WIRE 704 2384 528 2384
WIRE 896 2384 896 2224
WIRE 896 2384 704 2384
WIRE 992 2384 896 2384
WIRE 1040 2384 992 2384
WIRE 992 2400 992 2384
WIRE 1152 2400 1152 2304
WIRE 1152 2400 992 2400
WIRE 1552 2432 1552 2384
WIRE 1088 2448 976 2448
WIRE 64 2464 64 2224
WIRE 240 2464 240 2224
WIRE 432 2464 432 2224
WIRE 608 2464 608 2224
WIRE 800 2464 800 2224
WIRE 976 2464 976 2448
WIRE 976 2464 912 2464
WIRE 1008 2464 976 2464
WIRE 912 2544 912 2464
WIRE 912 2544 848 2544
WIRE 960 2544 912 2544
WIRE 1504 2544 1504 2512
WIRE 1664 2544 1504 2544
WIRE 112 2624 112 2544
WIRE 288 2624 288 2544
WIRE 288 2624 112 2624
WIRE 480 2624 480 2544
WIRE 480 2624 288 2624
WIRE 656 2624 656 2544
WIRE 656 2624 480 2624
WIRE 912 2624 912 2544
WIRE 912 2624 656 2624
WIRE 1504 2672 1504 2544
WIRE 1296 2752 1296 2384
WIRE 1456 2752 1296 2752
WIRE 816 2784 752 2784
WIRE 912 2784 816 2784
WIRE 1296 2816 1296 2752
WIRE 80 2832 32 2832
WIRE 224 2832 160 2832
WIRE 272 2832 224 2832
WIRE 704 2896 704 2864
WIRE 768 2896 704 2896
WIRE 816 2896 816 2784
WIRE 816 2896 768 2896
WIRE 1376 2896 1344 2896
WIRE 80 2912 80 2832
WIRE 224 2912 224 2832
WIRE 224 2912 160 2912
WIRE 960 2912 960 2864
WIRE 1088 2912 1088 2448
WIRE 1088 2912 960 2912
WIRE 768 2992 768 2896
FLAG -384 96 VDD
IOPIN -384 96 In
FLAG -384 176 0
FLAG 768 128 VDD
IOPIN 768 128 In
FLAG 768 176 VDD
IOPIN 768 176 In
FLAG 784 656 0
FLAG 784 704 0
FLAG 1024 656 0
FLAG 1024 704 0
FLAG 1024 512 0
FLAG 1024 128 VDD
IOPIN 1024 128 In
FLAG 1024 176 VDD
IOPIN 1024 176 In
FLAG 1024 320 VDD
IOPIN 1024 320 In
FLAG 1280 656 0
FLAG 1280 704 0
FLAG 1280 512 0
FLAG 1280 128 VDD
IOPIN 1280 128 In
FLAG 1280 176 VDD
IOPIN 1280 176 In
FLAG 1280 320 VDD
IOPIN 1280 320 In
FLAG 1552 656 0
FLAG 1552 704 0
FLAG 1552 512 0
FLAG 1552 128 VDD
IOPIN 1552 128 In
FLAG 1552 176 VDD
IOPIN 1552 176 In
FLAG 1552 320 VDD
IOPIN 1552 320 In
FLAG 1840 656 0
FLAG 1840 704 0
FLAG 1840 512 0
FLAG 1840 128 VDD
IOPIN 1840 128 In
FLAG 1840 176 VDD
IOPIN 1840 176 In
FLAG 1840 320 VDD
IOPIN 1840 320 In
FLAG 2080 656 0
FLAG 2080 704 0
FLAG 2080 512 0
FLAG 2080 128 VDD
IOPIN 2080 128 In
FLAG 2080 176 VDD
IOPIN 2080 176 In
FLAG 2080 320 VDD
IOPIN 2080 320 In
FLAG 272 2832 IREF
IOPIN 272 2832 In
FLAG 2512 512 0
FLAG 2512 320 VDD
IOPIN 2512 320 In
FLAG 2512 272 VDD
IOPIN 2512 272 In
FLAG 2512 560 0
FLAG 2768 512 0
FLAG 2768 320 VDD
IOPIN 2768 320 In
FLAG 2768 272 VDD
IOPIN 2768 272 In
FLAG 2768 560 0
FLAG 2832 416 out
FLAG 32 2832 VDD
IOPIN 32 2832 In
FLAG 816 2000 0
FLAG 624 1984 0
FLAG 448 1984 0
FLAG 256 1984 0
FLAG 80 1984 0
FLAG 848 2224 0
FLAG 656 2224 0
FLAG 480 2224 0
FLAG 288 2224 0
FLAG 112 2224 0
FLAG 240 2512 0
FLAG 240 2560 0
FLAG 432 2512 0
FLAG 432 2560 0
FLAG 608 2512 0
FLAG 608 2560 0
FLAG 800 2512 0
FLAG 800 2560 0
FLAG 64 2512 0
FLAG 64 2560 0
FLAG 1040 2288 VDD
IOPIN 1040 2288 In
FLAG 1040 2336 VDD
IOPIN 1040 2336 In
FLAG 1296 2288 VDD
IOPIN 1296 2288 In
FLAG 1296 2336 VDD
IOPIN 1296 2336 In
FLAG 1008 2512 0
FLAG 1008 2560 0
FLAG 704 2768 VDD
IOPIN 704 2768 In
FLAG 704 2816 VDD
IOPIN 704 2816 In
FLAG 960 2768 VDD
IOPIN 960 2768 In
FLAG 960 2816 VDD
IOPIN 960 2816 In
FLAG -992 1824 0
FLAG -1184 1808 0
FLAG -1360 1808 0
FLAG -1552 1808 0
FLAG -1728 1808 0
FLAG 768 3040 0
FLAG 768 3088 0
FLAG 720 3072 IREF
IOPIN 720 3072 In
FLAG 1296 2864 0
FLAG 1296 2912 0
FLAG 1504 2720 VDD
IOPIN 1504 2720 In
FLAG 1504 2768 0
FLAG 1504 2416 0
FLAG 1504 2464 0
FLAG 1552 2384 0
FLAG 1376 2896 VDD
IOPIN 1376 2896 In
FLAG 1664 2544 dacout
FLAG 432 304 dacout
SYMBOL pmos4 816 224 R180
SYMATTR InstName M1
SYMATTR Value2 l=l1 w=w1
SYMBOL voltage -384 80 R0
SYMATTR InstName Vdd
SYMATTR Value 3.3
SYMBOL current 80 2832 R270
WINDOW 3 35 48 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value 2µ
SYMATTR InstName Iref
SYMBOL nmos4 736 608 R0
SYMATTR InstName M2
SYMATTR Value2 l=l1 w=w1
SYMBOL res 176 2896 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 10G
SYMBOL nmos4 976 608 R0
SYMATTR InstName M4
SYMATTR Value2 l=l w=w
SYMBOL nmos4 976 464 R0
SYMATTR InstName M6
SYMATTR Value2 l=l w=w
SYMBOL pmos4 976 224 M180
SYMATTR InstName M7
SYMATTR Value2 l=l w=w
SYMBOL pmos4 976 368 M180
SYMATTR InstName M9
SYMATTR Value2 l=l w=w
SYMBOL nmos4 1232 608 R0
SYMATTR InstName M3
SYMATTR Value2 l=l w=w
SYMBOL nmos4 1232 464 R0
SYMATTR InstName M8
SYMATTR Value2 l=l w=w
SYMBOL pmos4 1232 224 M180
SYMATTR InstName M10
SYMATTR Value2 l=l w=w
SYMBOL pmos4 1232 368 M180
SYMATTR InstName M11
SYMATTR Value2 l=l w=w
SYMBOL nmos4 1504 608 R0
SYMATTR InstName M12
SYMATTR Value2 l=l w=w
SYMBOL nmos4 1504 464 R0
SYMATTR InstName M13
SYMATTR Value2 l=l w=w
SYMBOL pmos4 1504 224 M180
SYMATTR InstName M14
SYMATTR Value2 l=l w=w
SYMBOL pmos4 1504 368 M180
SYMATTR InstName M15
SYMATTR Value2 l=l w=w
SYMBOL nmos4 1792 608 R0
SYMATTR InstName M16
SYMATTR Value2 l=l w=w
SYMBOL nmos4 1792 464 R0
SYMATTR InstName M17
SYMATTR Value2 l=l w=w
SYMBOL pmos4 1792 224 M180
SYMATTR InstName M18
SYMATTR Value2 l=l w=w
SYMBOL pmos4 1792 368 M180
SYMATTR InstName M19
SYMATTR Value2 l=l w=w
SYMBOL nmos4 2032 608 R0
SYMATTR InstName M20
SYMATTR Value2 l=l w=w
SYMBOL nmos4 2032 464 R0
SYMATTR InstName M21
SYMATTR Value2 l=l w=w
SYMBOL pmos4 2032 224 M180
SYMATTR InstName M22
SYMATTR Value2 l=l w=w
SYMBOL pmos4 2032 368 M180
SYMATTR InstName M23
SYMATTR Value2 l=l w=w
SYMBOL nmos4 2464 464 R0
SYMATTR InstName M40
SYMATTR Value2 l=l w=w
SYMBOL pmos4 2464 368 M180
SYMATTR InstName M41
SYMATTR Value2 l=l w=w
SYMBOL nmos4 2720 464 R0
SYMATTR InstName M42
SYMATTR Value2 l=l w=w
SYMBOL pmos4 2720 368 M180
SYMATTR InstName M43
SYMATTR Value2 l=l w=w
SYMBOL voltage 816 2096 R180
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
WINDOW 3 -149 175 Left 2
SYMATTR SpiceLine Rser=10k
SYMATTR Value {b0*3.3}
SYMATTR InstName V2
SYMBOL voltage 624 2080 R180
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
WINDOW 3 -112 204 Left 2
SYMATTR SpiceLine Rser=10k
SYMATTR Value {b1*3.3}
SYMATTR InstName V3
SYMBOL voltage 448 2080 R180
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
WINDOW 3 -37 164 Left 2
SYMATTR SpiceLine Rser=10k
SYMATTR Value {b2*3.3}
SYMATTR InstName V4
SYMBOL voltage 256 2080 R180
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
WINDOW 3 -83 208 Left 2
SYMATTR SpiceLine Rser=10k
SYMATTR Value {b3*3.3}
SYMATTR InstName V5
SYMBOL voltage 80 2080 R180
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
WINDOW 3 -8 162 Left 2
SYMATTR SpiceLine Rser=10k
SYMATTR Value {b4*3.3}
SYMATTR InstName V6
SYMBOL nmos4 896 2176 R90
SYMATTR InstName M59
SYMATTR Value2 l=ldac w=wdac
SYMBOL nmos4 704 2176 R90
SYMATTR InstName M60
SYMATTR Value2 l=ldac w=wdac
SYMBOL nmos4 528 2176 R90
SYMATTR InstName M61
SYMATTR Value2 l=ldac w=wdac
SYMBOL nmos4 336 2176 R90
SYMATTR InstName M62
SYMATTR Value2 l=ldac w=wdac
SYMBOL nmos4 160 2176 R90
SYMATTR InstName M63
SYMATTR Value2 l=ldac w=wdac
SYMBOL nmos4 288 2464 M0
SYMATTR InstName M86
SYMATTR Value2 l=lmir w={wmir*8}
SYMBOL nmos4 480 2464 M0
SYMATTR InstName M87
SYMATTR Value2 l=lmir w={4*wmir}
SYMBOL nmos4 656 2464 M0
SYMATTR InstName M88
SYMATTR Value2 l=lmir w={2*wmir}
SYMBOL nmos4 848 2464 M0
SYMATTR InstName M89
SYMATTR Value2 l=lmir w=wmir
SYMBOL nmos4 112 2464 M0
SYMATTR InstName M90
SYMATTR Value2 l=lmir w={16*wmir}
SYMBOL pmos4 1088 2384 R180
SYMATTR InstName M91
SYMATTR Value2 l=0.35u w=0.4u
SYMBOL pmos4 1248 2384 M180
SYMATTR InstName M92
SYMATTR Value2 l=lmir w={2.5*wmir}
SYMBOL nmos4 960 2464 R0
SYMATTR InstName M93
SYMATTR Value2 l=l w=20u
SYMBOL pmos4 752 2864 R180
SYMATTR InstName M106
SYMATTR Value2 l=0.35u w={0.4u}
SYMBOL pmos4 912 2864 M180
SYMATTR InstName M107
SYMATTR Value2 l=0.35u w=20u
SYMBOL voltage -992 1920 R180
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
WINDOW 3 -149 175 Left 2
SYMATTR SpiceLine Rser=10k
SYMATTR Value PULSE(0 3.3 1u 1p 1p 1u 2u)
SYMATTR InstName V8
SYMBOL voltage -1184 1904 R180
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
WINDOW 3 -112 204 Left 2
SYMATTR SpiceLine Rser=10k
SYMATTR Value PULSE(0 3.3 2u 1p 1p 2u 4u)
SYMATTR InstName V9
SYMBOL voltage -1360 1904 R180
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
WINDOW 3 -37 164 Left 2
SYMATTR SpiceLine Rser=10k
SYMATTR Value PULSE(0 3.3 4u 1p 1p 4u 8u)
SYMATTR InstName V10
SYMBOL voltage -1552 1904 R180
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
WINDOW 3 -83 208 Left 2
SYMATTR SpiceLine Rser=10k
SYMATTR Value PULSE(0 3.3 8u 1p 1p 8u 16u)
SYMATTR InstName V11
SYMBOL voltage -1728 1904 R180
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
WINDOW 3 -8 162 Left 2
SYMATTR SpiceLine Rser=10k
SYMATTR Value PULSE(0 3.3 16u 1p 1p 16u 32u)
SYMATTR InstName V12
SYMBOL nmos4 720 2992 R0
SYMATTR InstName M110
SYMATTR Value2 l=0.35u w=2u
SYMBOL nmos4 1344 2816 M0
SYMATTR InstName M94
SYMATTR Value2 l=lmir w={2.5*wmir}
SYMBOL pmos4 1456 2672 R0
SYMATTR InstName M108
SYMATTR Value2 l=0.35u w=30u
SYMBOL nmos4 1552 2512 R180
SYMATTR InstName M114
SYMATTR Value2 l=0.4u w=10u
TEXT 1440 1048 Left 2 !.inc library.mod
TEXT 1440 1208 Left 2 !.param w=6u\n.param l=0.45u
TEXT 1440 1096 Left 2 ;.tran 15u
TEXT 1248 1392 Left 2 !.meas tran T1 find time when V(out)=1.65 rise 30\n.meas tran T2 find time when V(out)=1.65 rise 60\n.meas TRAN Frequency PARAM 30/(T2-T1)
TEXT 1352 1296 Left 2 !*.step param i list 1u 2u 4u 8u 16u 32u
TEXT 1440 1160 Left 2 !.param w1=3u
TEXT 1440 1184 Left 2 !.param l1=0.35u
TEXT 1448 1128 Left 2 !.tran 0 5u 1u 1n
TEXT 1352 1320 Left 2 !*.step param i2 list 1u 32u
TEXT -200 2224 Left 2 !.param b0=1\n.param b1=0\n.param b2=0\n.param b3=0\n.param b4=0
TEXT 2296 1072 Left 6 ;Oscillator
TEXT -208 2376 Left 2 !.param wdac=1u\n.param ldac=0.35u\n.param wmir=0.8u\n.param lmir=0.4u
TEXT 1512 1976 Left 6 ;DAC
TEXT -1504 1608 Left 2 ;Test
RECTANGLE Normal 3040 1504 -432 -32 2
RECTANGLE Normal 2080 3168 -256 1712 2
